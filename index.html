<html xmlns="http://www.w3.org/1999/xhtml">
  <style media="screen" type="text/css">
    p { font-size: 16; }
    .small { font-size: small; }
    .large { font-size: 22; }
    .xlarge { font-size: 29; }
    .math { font-weight: bold; font-style: italic; }
    .center { text-align: center; }
    body {
      background-color: #f5f5dc;
      text-align: center; /* this is required for old versions of IE */
    }
    #centered {
       width: 700px; /* this is the width of the center column (px, em or %) */
       text-align: left; /*resets the text alignment back to left */
       margin: 0 auto; /* auto centers the div in standards complaint browsers */
    }
    @media only screen and (min-width: 64em) {
      p { font-size: 15; line-height: 0.9; }
    }
  </style>
  <body>
    <div class="center">
      <h2 style="line-height:.9">Theorem of Pythagoras</h2>
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="335" height="340" viewBox="0 0 335 340" onload="Animate(evt)">
        <script type="text/ecmascript">
          function Rotate(theta, ctr_x, ctr_y, shortln, longln, factor) {
            var short_x = shortln * Math.sin(theta + factor), short_y = shortln * Math.cos(theta + factor),
                long_x = longln * Math.sin(theta), long_y = longln * Math.cos(theta);

            return (short_x + ctr_x) + "," + (short_y + ctr_y) + " " + ctr_x + "," + ctr_y + " " + (long_x + ctr_x) + "," + (long_y + ctr_y);
          }

          function Animate(evt) {
            var contentStr, transformStr, attributeStr, delay, last_x = 140, last_y = 110, first_y = 110, flag = 0, theta = 1.57,
              triangle = evt.target.ownerDocument.getElementById("mytri"),
              msg = evt.target.ownerDocument.getElementById("mytext"),
              msg2 = evt.target.ownerDocument.getElementById("mytext2");

            setTimeout(function Transform() {
              if ( 140 == last_x ) {
                delay = 2000;   // pause if starting over
              } else if ( flag == 3 ) {
                delay = 60;     // slow down first leg of RH animation
              } else {
                delay = 40;     // just right
              }

              switch ( flag ) {
                case 0:
                  msg.textContent = "Size of green area isn't changing ->";
                  msg.setAttribute("transform", "scale(.7) translate(110,230) rotate(-72)");
                  triangle.setAttribute("fill", "lightgreen");
                  triangle.setAttribute("points", "40,130 100,170 " + ( last_x++ ) + "," + ( last_x * 2 / 3 + 17 ));
                  if ( last_x == 230 ) { delay = 2000; flag = 1; } break;
                case 1:
                  msg.textContent = "Still not changing ->";
                  msg.setAttribute("transform", "scale(.7) translate(140,249) rotate(-33)");
                  triangle.setAttribute("points", Rotate(theta -= 0.01, 100, 170, 71, 130, 2.55));
                  if ( 0 > theta ) { delay = 2000; flag = 2; } break;
                case 2:
                  msg.textContent = "Same size as";
                  msg.setAttribute("transform", "scale(.7) translate(108,330)");
                  msg2.textContent = "when it started! ->";
                  msg2.setAttribute("transform", "scale(.7) translate(138,350)");
                  triangle.setAttribute("points", "140," + ( ++first_y ) + " 100,170 100,300");
                  if ( first_y == 170 ) { delay = 2000; flag = 3; first_y = 110; last_x = 140; last_y = 109; } break;
                case 3:
                  msg.textContent = ""; msg2.textContent = "";
                  triangle.setAttribute("points", "290,80 230,170 " + ( last_x-- ) + "," + ( last_y += 1.48 ));
                  if ( last_y > 169 ) { delay = 2000; flag = 4; theta = 2.55; } break;
                case 4:
                  triangle.setAttribute("points", Rotate(theta += 0.01, 230, 170, 129, 107, 2.15));
                  if ( theta > 4.12 ) { delay = 2000; flag = 5; } break;
                case 5:
                  triangle.setAttribute("points", "140," + ( ++first_y ) + " 230,170 230,300");
                  if ( first_y == 170 ) { delay = 2000; flag = 0; first_y = 110; last_x = 140; last_y = 160; theta = 1.57; } break;
              }

          		setTimeout(Transform, delay);
          	}, delay);
        	}
        </script>
        <rect width="100%" height="100%" fill="white" stroke="black" />
        <polygon id="mytri" fill="lightpink" style="stroke:black; stroke-width:1" />
        <text id="mytext" text-anchor="end" />
        <text id="mytext2" text-anchor="end" />
        <polygon style="fill:none; stroke:gray;" points="140,111 140,299" />
        <rect x="100" y="170" width="130" height="130" fill="none" stroke="black" />
        <polygon style="fill:none; stroke:black;" points="40,130 100,170 140,110 80,70" />
        <polygon style="fill:none; stroke:black;" points="290,80 230,170 140,110 200,20" />
        <text transform="translate(105,140)">a</text>
        <text transform="translate(185,135)">b</text>
        <text transform="translate(160,185)">c</text>
      </svg>
      <p>Animation follows the same general approach as in <a href="https://mathcs.clarku.edu/~djoyce/elements/bookI/propI47.html">Euclid's Elements: Proposition 47</a></p>
    </div>

    <div id="centered">
      <hr>
      <p>
        <b>Claim:</b> beginning in one of the squares above and continuing down to its corresponding rectangle below, the area of the green triangle in motion <i>does not change</i>.<br><br>
        <b>Notice that:</b> we have two kinds of motion; rotation and skewing. Clearly the area of the rotating triangle isn't changing so let's turn our attention to the skewing triangle and consider the fact that:
      </p>
      <p class="math center">area(triangle) = 1/2 base x height</p>
      <p>
        <i>even for obtuse triangles</i>. Since triangle <span class="math">abc</span> is right, the height of the skewing triangle doesn't change, <i>nor does its area</i>.
        <b><sub>QED baby</sub></b><br><br>
        <b>So, from the animation:</b>
      </p>
      <p class="center">
        <span class="math">area(square)/2 = area(rectangle)/2</span>
        implies that <span class="math">area(square) = area(rectangle)</span>
        therefore <span class="math">a<sup>2</sup> + b<sup>2</sup> = c<sup>2</sup></span>
      </p>
      <p class="small">** I came up with this back in the 90's only to discover that I'd been beaten to the internet by one Jim Morey. He built an animated applet along these same
        lines and won the grand prize at the Sun/Java programming contest in 1995. Java applets are no longer supported so I put this SVG
        version up to fill the void. &copy; <i>2018 Joe Hartman</i>
      </p>
    </div>
  </body>
</html>
